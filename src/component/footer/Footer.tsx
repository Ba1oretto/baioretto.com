import React from "react";
import "./atri.css";
import "./gear.css";
import useTranslation from "../../hook/useTranslation";
import useDeployTime from "../../hook/useDeployTime";
import useNamedScreenSize from "../../hook/useNamedScreenSize";
import type { Children } from "../../type";

function DeployTime() {
  const deployTime = useDeployTime();
  const namedScreenSize = useNamedScreenSize();

  if (!namedScreenSize.lg) return null;

  return (
    <div className="flex items-center p-2 bg-[#FF9100] dark:bg-orange-200 rounded-md">{deployTime}</div>
  );
}

export default function Footer() {
  const { t } = useTranslation();

  return (
    <footer className="bg-[#F5400C] dark:bg-amber-200">
      <div className="bg-[#EB1C0C] dark:bg-amber-400">
        <div className="container mx-auto">
          <div className="md:mx-[155px] py-3 px-6 md:flex md:items-center md:justify-between text-amber-900">
            <div className="hidden lg:flex font-bold select-none">
              <div className="bg-[#FF9100] dark:bg-orange-200 rounded-md p-2 flex items-center mr-2 uppercase">
                <svg viewBox="0 0 490 490" width="28" height="28" fill="currentColor" className="gear">
                  <path d="M490,305V185h-69.964c-2.498-7.291-5.453-14.42-8.844-21.34l49.475-49.475l-84.853-84.853L326.34,78.807 c-6.919-3.39-14.051-6.345-21.34-8.843V0H185v69.964c-7.29,2.498-14.42,5.453-21.34,8.843l-49.475-49.475l-84.853,84.853 l49.475,49.475c-3.391,6.92-6.345,14.05-8.843,21.34H0v120h69.964c2.498,7.291,5.453,14.42,8.843,21.34l-49.475,49.475 l84.853,84.853l49.475-49.475c6.92,3.391,14.05,6.345,21.34,8.843V490h120v-69.964c7.29-2.498,14.42-5.453,21.34-8.843 l49.475,49.475l84.853-84.853l-49.475-49.475c3.391-6.919,6.346-14.05,8.844-21.34H490z M418.241,375.815l-42.427,42.426 l-44.187-44.186l-9.944,5.673c-11.206,6.394-23.199,11.364-35.646,14.772L275,397.523V460h-60v-62.477l-11.039-3.022 c-12.445-3.408-24.438-8.378-35.646-14.772l-9.944-5.673l-44.186,44.186l-42.426-42.426l44.186-44.186l-5.673-9.944 c-6.394-11.206-11.364-23.199-14.772-35.646L92.478,275H30v-60h62.478l3.022-11.039c3.408-12.445,8.377-24.438,14.771-35.645 l5.674-9.944l-44.187-44.187l42.426-42.426l44.187,44.187l9.944-5.674c11.207-6.394,23.2-11.364,35.645-14.771L215,92.478V30h60 v62.478l11.039,3.022c12.446,3.408,24.438,8.378,35.645,14.771l9.944,5.674l44.187-44.187l42.427,42.426l-44.187,44.187 l5.674,9.944c6.393,11.205,11.363,23.198,14.772,35.646L397.523,215H460v60h-62.477l-3.022,11.038 c-3.409,12.447-8.38,24.44-14.772,35.646l-5.674,9.944L418.241,375.815z" />
                  <path d="M245,150c-52.383,0-95,42.617-95,95s42.617,95,95,95s95-42.617,95-95S297.383,150,245,150z M245,310 c-35.841,0-65-29.159-65-65s29.159-65,65-65s65,29.159,65,65S280.841,310,245,310z" />
                </svg>
                <span className="ml-2 uppercase">{t("date.deploy")}</span>
              </div>
              <DeployTime />
            </div>
            <div className="flex justify-center mt-4 md:mt-0">
              {SNS.map(({ name, url, children }) => (
                <a href={url} target="_blank" rel="noreferrer" aria-label={name} key={name} className="p-3 text-[#FF9100] transition-opacity dark:text-amber-900 hover:opacity-50">
                  {children}
                </a>
              ))}
            </div>
          </div>
        </div>
      </div>
      <div className="container mx-auto flex items-center p-6">
        <a className="hidden md:block portrait group">
          <div className="atri group-hover:opacity-0 transition-all duration-200" />
          <div className="atri opacity-0 group-hover:opacity-100 transition-all duration-300" />
        </a>
        <div className="ml-3">
          <div className="text-black">Baioretto, An Independent Developer</div>
          <div className="text-amber-900">Copyright Â© 2022 baioretto | All rights reserved | sunjiamu@outlook.com</div>
        </div>
      </div>
    </footer>
  );
}


type LinkProp = {
  name: string,
  url: string,
} & Children

const SNS: LinkProp[] = [
  {
    name: "bilibili",
    url: "https://space.bilibili.com/361996128",
    children: (
      <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
        <path d="M18.5,6H16.41l1.83-1.83a1,1,0,0,0-1.41-1.41L13.58,6H10.41L7.17,2.76A1,1,0,0,0,5.76,4.17L7.59,6H5.5A3.5,3.5,0,0,0,2,9.5v8A3.5,3.5,0,0,0,5.5,21h13A3.5,3.5,0,0,0,22,17.5v-8A3.5,3.5,0,0,0,18.5,6ZM7,14V12a1,1,0,0,1,2,0v2a1,1,0,0,1-2,0Zm10,0a1,1,0,0,1-2,0V12a1,1,0,0,1,2,0Z" />
      </svg>
    ),
  },
  {
    name: "twitter",
    url: "https://twitter.com/barro1t",
    children: (
      <svg viewBox="0 0 512 512" width="28" height="28" fill="currentColor">
        <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
      </svg>
    ),
  },
  {
    name: "discord",
    url: "https://discord.com/users/553206928252207134",
    children: (
      <svg viewBox="0 0 245 240" width="28" height="28" fill="currentColor">
        <path d="M214.5,54.1c-30.1-22.6-58.8-22-58.8-22l-2.9,3.3c35.5,10.9,52.1,26.6,52.1,26.6 c-21.7-11.9-43.1-17.8-62.9-20.1c-15.1-1.7-29.5-1.3-42.2,0.4c-1.3,0-2.3,0.2-3.6,0.4c-7.3,0.6-25.1,3.3-47.5,13.2 c-7.7,3.6-12.3,6.1-12.3,6.1s17.4-16.5,55-27.4l-2.1-2.5c0,0-28.6-0.6-58.8,22c0,0-30.1,54.6-30.1,121.9c0,0,17.6,30.3,63.8,31.8 c0,0,7.7-9.4,14-17.4c-26.6-7.9-36.6-24.7-36.6-24.7s2.1,1.5,5.9,3.6c0.2,0.2,0.4,0.4,0.8,0.6c0.6,0.4,1.3,0.6,1.9,1 c5.2,2.9,10.5,5.2,15.3,7.1c8.6,3.3,18.8,6.7,30.7,9c15.7,2.9,34.1,4,54.2,0.2c9.8-1.7,19.9-4.6,30.3-9c7.3-2.7,15.5-6.7,24-12.3 c0,0-10.5,17.1-37.8,24.9c6.3,7.9,13.8,16.9,13.8,16.9c46.2-1.5,64-31.8,64-31.8C244.6,108.7,214.5,54.1,214.5,54.1z M83.3,157 c-11.7,0-21.4-10.5-21.4-23.3c0-12.8,9.4-23.3,21.4-23.3c12,0,21.6,10.5,21.4,23.3C104.7,146.5,95.2,157,83.3,157z M159.8,157 c-11.7,0-21.4-10.5-21.4-23.3c0-12.8,9.4-23.3,21.4-23.3c12,0,21.4,10.5,21.4,23.3C181.2,146.5,171.8,157,159.8,157z" />
      </svg>
    ),
  },
  {
    name: "github",
    url: "https://github.com/Ba1oretto",
    children: (
      <svg viewBox="0 0 16 16" width="28" height="28" fill="currentColor">
        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
      </svg>
    ),
  },
  {
    name: "steam",
    url: "https://steamcommunity.com/id/baioretto",
    children: (
      <svg viewBox="0 0 32 32" width="28" height="28" fill="currentColor">
        <path d="M15.974 0c-8.401 0-15.292 6.479-15.943 14.714l8.573 3.547c0.729-0.495 1.604-0.786 2.552-0.786 0.083 0 0.167 0.005 0.25 0.005l3.813-5.521v-0.078c0-3.328 2.703-6.031 6.031-6.031s6.036 2.708 6.036 6.036c0 3.328-2.708 6.031-6.036 6.031h-0.135l-5.438 3.88c0 0.073 0.005 0.141 0.005 0.214 0 2.5-2.021 4.526-4.521 4.526-2.177 0-4.021-1.563-4.443-3.635l-6.135-2.542c1.901 6.719 8.063 11.641 15.391 11.641 8.833 0 15.995-7.161 15.995-16s-7.161-16-15.995-16zM10.052 24.281l-1.964-0.813c0.349 0.724 0.953 1.328 1.755 1.667 1.729 0.719 3.724-0.104 4.443-1.833 0.349-0.844 0.349-1.76 0.005-2.599-0.344-0.844-1-1.495-1.839-1.844-0.828-0.349-1.719-0.333-2.5-0.042l2.026 0.839c1.276 0.536 1.88 2 1.349 3.276s-2 1.88-3.276 1.349zM25.271 11.875c0-2.214-1.802-4.021-4.016-4.021-2.224 0-4.021 1.807-4.021 4.021 0 2.219 1.797 4.021 4.021 4.021 2.214 0 4.016-1.802 4.016-4.021zM18.245 11.87c0-1.672 1.349-3.021 3.016-3.021s3.026 1.349 3.026 3.021c0 1.667-1.359 3.021-3.026 3.021s-3.016-1.354-3.016-3.021z" />
      </svg>
    ),
  },
];